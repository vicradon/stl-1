{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\vicradon\\\\Documents\\\\Codes\\\\Next.js Codes\\\\serverless-demo\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Head from \"next/head\";\n\nconst {\n  query: q,\n  Client\n} = require(\"faunadb\");\n\nconst Index = () => {\n  const [state, setState] = React.useState({\n    info: \"\"\n  });\n  const [latest, setLatest] = React.useState(\"\");\n  const [error, setError] = React.useState(\"\");\n  const [success, setSuccess] = React.useState(\"\");\n\n  const handleChange = ({\n    target\n  }) => {\n    setState(_objectSpread({}, state, {\n      [target.name]: target.value\n    }));\n  };\n\n  const client = new Client({\n    secret: \"fnAD26na28ACATnSJT0UD93sy_ft8gNx6Zt7gNFm\"\n  });\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    client.query(q.Create(q.Collection(\"sent_items\"), {\n      data: {\n        text: state.info\n      }\n    })).catch(error => {\n      console.error(error);\n    });\n  };\n\n  const getLatest = () => {\n    return client.query(q.Get(q.Select([\"data\", 0], q.Reverse(q.Paginate(q.Documents(q.Collection(\"sent_items\")))))));\n  };\n\n  React.useEffect(() => {\n    getLatest().then(text => {\n      setLatest(text.data.text);\n    });\n  });\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, __jsx(Head, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(\"link\", {\n    rel: \"apple-touch-icon\",\n    sizes: \"180x180\",\n    href: \"./apple-touch-icon.png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), __jsx(\"link\", {\n    rel: \"icon\",\n    type: \"image/png\",\n    sizes: \"32x32\",\n    href: \"./favicon-32x32.png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), __jsx(\"link\", {\n    rel: \"icon\",\n    type: \"image/png\",\n    sizes: \"16x16\",\n    href: \"./favicon-16x16.png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), __jsx(\"link\", {\n    rel: \"manifest\",\n    href: \"./manifest.json\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    name: \"msapplication-TileColor\",\n    content: \"#da532c\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    name: \"theme-color\",\n    content: \"#ffffff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })), __jsx(\"nav\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Send to laptop\")), __jsx(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    htmlFor: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Text to send\"), __jsx(\"textarea\", {\n    className: \"u-full-width\",\n    placeholder: \"I'm still facing the issue...\",\n    id: \"info\",\n    name: \"info\",\n    value: state.info,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    className: \"button-primary\",\n    type: \"submit\",\n    value: \"Submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), __jsx(\"p\", {\n    style: {\n      color: \"green\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, success), __jsx(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, error)), __jsx(\"div\", {\n    style: {\n      marginTop: \"3rem\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, latest)));\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/vicradon/Documents/Codes/Next.js Codes/serverless-demo/pages/index.js"],"names":["Head","query","q","Client","require","Index","state","setState","React","useState","info","latest","setLatest","error","setError","success","setSuccess","handleChange","target","name","value","client","secret","handleSubmit","event","preventDefault","Create","Collection","data","text","catch","console","getLatest","Get","Select","Reverse","Paginate","Documents","useEffect","then","color","marginTop"],"mappings":"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","sourcesContent":["import Head from \"next/head\";\r\n\r\nconst { query: q, Client } = require(\"faunadb\");\r\n\r\nconst Index = () => {\r\n  const [state, setState] = React.useState({\r\n    info: \"\",\r\n  });\r\n  const [latest, setLatest] = React.useState(\"\");\r\n  const [error, setError] = React.useState(\"\");\r\n  const [success, setSuccess] = React.useState(\"\");\r\n\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.name]: target.value });\r\n  };\r\n\r\n  const client = new Client({\r\n    secret: \"fnAD26na28ACATnSJT0UD93sy_ft8gNx6Zt7gNFm\",\r\n  });\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    client\r\n      .query(\r\n        q.Create(q.Collection(\"sent_items\"), { data: { text: state.info } })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  };\r\n\r\n  const getLatest = () => {\r\n    return client.query(\r\n      q.Get(\r\n        q.Select(\r\n          [\"data\", 0],\r\n          q.Reverse(q.Paginate(q.Documents(q.Collection(\"sent_items\"))))\r\n        )\r\n      )\r\n    );\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    getLatest().then((text) => {\r\n      setLatest(text.data.text);\r\n    });\r\n  });\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Head>\r\n        <link\r\n          rel=\"apple-touch-icon\"\r\n          sizes=\"180x180\"\r\n          href=\"./apple-touch-icon.png\"\r\n        />\r\n        <link\r\n          rel=\"icon\"\r\n          type=\"image/png\"\r\n          sizes=\"32x32\"\r\n          href=\"./favicon-32x32.png\"\r\n        />\r\n        <link\r\n          rel=\"icon\"\r\n          type=\"image/png\"\r\n          sizes=\"16x16\"\r\n          href=\"./favicon-16x16.png\"\r\n        />\r\n        <link rel=\"manifest\" href=\"./manifest.json\" />\r\n        <meta name=\"msapplication-TileColor\" content=\"#da532c\" />\r\n        <meta name=\"theme-color\" content=\"#ffffff\" />\r\n      </Head>\r\n      <nav className=\"container\">\r\n        <h3>Send to laptop</h3>\r\n      </nav>\r\n      <div className=\"container\">\r\n        <form onSubmit={handleSubmit}>\r\n          <label htmlFor=\"info\">Text to send</label>\r\n          <textarea\r\n            className=\"u-full-width\"\r\n            placeholder=\"I'm still facing the issue...\"\r\n            id=\"info\"\r\n            name=\"info\"\r\n            value={state.info}\r\n            onChange={handleChange}\r\n          ></textarea>\r\n          <input className=\"button-primary\" type=\"submit\" value=\"Submit\" />\r\n          <p style={{ color: \"green\" }}>{success}</p>\r\n          <p style={{ color: \"red\" }}>{error}</p>\r\n        </form>\r\n\r\n        <div style={{ marginTop: \"3rem\" }}>{latest}</div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}