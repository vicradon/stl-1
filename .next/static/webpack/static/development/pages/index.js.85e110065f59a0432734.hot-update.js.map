{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.85e110065f59a0432734.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Head from \"next/head\";\r\n\r\nconst { query: q, Client } = require(\"faunadb\");\r\n\r\nconst Index = () => {\r\n  const [state, setState] = React.useState({\r\n    info: \"\",\r\n  });\r\n  const [latest, setLatest] = React.useState(\"\");\r\n  const [error, setError] = React.useState(\"\");\r\n  const [success, setSuccess] = React.useState(\"\");\r\n\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.name]: target.value });\r\n  };\r\n\r\n  const client = new Client({\r\n    secret: \"fnAD26na28ACATnSJT0UD93sy_ft8gNx6Zt7gNFm\",\r\n  });\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    client\r\n      .query(\r\n        q.Create(q.Collection(\"sent_items\"), { data: { text: state.info } })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  };\r\n\r\n  const getLatest = () => {\r\n    return client.query(\r\n      q.Get(\r\n        q.Select(\r\n          [\"data\", 0],\r\n          q.Reverse(q.Paginate(q.Documents(q.Collection(\"sent_items\"))))\r\n        )\r\n      )\r\n    );\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    getLatest().then((text) => {\r\n      setLatest(text.data.text);\r\n    });\r\n  });\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Head>\r\n        <link\r\n          rel=\"apple-touch-icon\"\r\n          sizes=\"180x180\"\r\n          href=\"./apple-touch-icon.png\"\r\n        />\r\n        <link\r\n          rel=\"icon\"\r\n          type=\"image/png\"\r\n          sizes=\"32x32\"\r\n          href=\"./favicon-32x32.png\"\r\n        />\r\n        <link\r\n          rel=\"icon\"\r\n          type=\"image/png\"\r\n          sizes=\"16x16\"\r\n          href=\"./favicon-16x16.png\"\r\n        />\r\n        <link rel=\"manifest\" href=\"./manifest.json\" />\r\n        <meta name=\"msapplication-TileColor\" content=\"#da532c\" />\r\n        <meta name=\"theme-color\" content=\"#ffffff\" />\r\n      </Head>\r\n      <nav className=\"container\">\r\n        <h3>Send to laptop</h3>\r\n      </nav>\r\n      <div className=\"container\">\r\n        <form onSubmit={handleSubmit}>\r\n          <label htmlFor=\"info\">Text to send</label>\r\n          <textarea\r\n            className=\"u-full-width\"\r\n            placeholder=\"I'm still facing the issue...\"\r\n            id=\"info\"\r\n            name=\"info\"\r\n            value={state.info}\r\n            onChange={handleChange}\r\n          ></textarea>\r\n          <input className=\"button-primary\" type=\"submit\" value=\"Submit\" />\r\n          <p style={{ color: \"green\" }}>{success}</p>\r\n          <p style={{ color: \"red\" }}>{error}</p>\r\n        </form>\r\n\r\n        <div style={{ marginTop: \"3rem\" }}>{latest}</div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AADA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAOA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;A","sourceRoot":""}